{% extends 'flatpages/default.html' %}

{% block title %}
Post
{% endblock title %}

<!-- В контенте на странице мы выводим все новости -->
{% block content %}
   <h1>Количество новостей/статей: {{ newslist|length }}</h1>
   <hr>
   <!-- Выводим новости, только если они есть с помощью тега if -->
   {% if newslist %}
        <table>
            <tr>
                <td>Заголовок</td>
                <td>Дата публикации</td>
                <td>20 слов текста</td>
            </tr>
            {% for Post in newslist%}
            <tr>
                <td>{{ Post.title}}</td>
                <td>{{ Post.time_in|date:'d M Y'}}</td>
                <td>{{ Post.content|truncatewords:20}}</td>
            </tr>
            {% endfor%}


        </table>

   {% else %}
       <!-- Если статей нет, говорим, что новостей нет ;) -->
       <h2>Новостей нет!</h2>
   {% endif %}
{% endblock content %}

